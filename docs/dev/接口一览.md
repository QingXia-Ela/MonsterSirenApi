# 接口一览

## 前言

url base：`https://monster-siren.hypergryph.com/api`

## 搜索相关

### 基本搜索

说明：搜索专辑与动向

必选参数：

- `keyword`：搜索关键词

**请求url**：`/search`

**使用示例**：`/search?keyword=operation pyrite`

### 专辑搜索

说明：通过关键词获取专辑列表，一般与搜索接口配合使用

必选参数：

- `keyword`：搜索关键词

可选参数：

- `lastCid`：上一次请求中专辑内最后的子项

**请求url**：`/search/album`

**使用示例**：`/search/album?keyword=114514`，`/search/album?keyword=114514&lastCid=1919810`

### 新闻搜索

说明：独立新闻搜索接口

必选参数：

- `keyword`：搜索关键词

可选参数：

- `lastCid`：上一次请求中新闻列表内最后的子项

**请求url**：`/search/news`

**使用示例**：`/search/news?keyword=114514`，`/search/news?keyword=114514&lastCid=1919810`

## 歌曲相关

### 歌曲基本信息

说明：获取一首歌的基本信息，包含音频URL和歌词等文件，但不包含专辑图片

**请求url**：`/song/{歌曲id}`

**使用示例**：`/song/125083`

### 歌曲列表

说明：获取所有歌曲

**请求url**：`/songs`

## 专辑相关

### 所有专辑列表

说明：获取所有专辑，包含专辑封面以及专辑

**请求url**：`/albums`

### 专辑数据信息

说明：获取专辑的基本信息，包含专辑封面和一张大图封面，以及创作专辑的艺术家

**注意**：这个接口不包含歌曲信息，如果需要请看下面的`专辑详细信息`接口

**请求url**：`/album/{专辑id}/data`

**使用示例**：`/album/6667/data`

### 专辑详细信息

说明：获取专辑的基本信息，包含专辑封面和一张大图封面，以及专辑相关的所有歌曲

**请求url**：`/album/{专辑id}/detail`

**使用示例**：`/album/6667/detail`

## 动向相关

### 轮播图数据

说明：获取动向左侧轮播图的数据

**请求url**：`/recommends`

### 新闻列表

说明：获取动向右侧新闻无限滚动列表信息

可选参数：

- `lastCid`：上一次请求中新闻列表内最后的子项

**请求url**：`/news`

**使用示例**：`/news`，`/news?lastCid=605966`

备注：接口中 `data` 下包含 `end` 字段，如果为 true 则代表没有更多新闻了

### 新闻详细信息

说明：获取一个新闻的详细信息

**请求url**：`/news/{新闻id}`

**使用示例**：`/news/578833`

## 杂项

### 字体

说明：获取网页用字体文件

**请求url**：`/fontset`

## 错误消息

一般的错误中在响应体内的 code 不为 0，直接判断即可。

特殊的错误格式如下：

```json
{
  "msg":"[{\"message\":\"should not be empty\",\"code\":\"invalid\",\"field\":\"keyword\"}]"
}
```

会在请求接口不合法时出现，以上这个示例是在搜索接口参数为空时出现
